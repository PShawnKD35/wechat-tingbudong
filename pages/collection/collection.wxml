<view class="container">
  <cu-custom bgColor="bg-gradual-blue" isCustom="true">
    <view slot="content">听不懂</view>
  </cu-custom>
<!-- <scroll-view></scroll-view> -->
<block wx:for="{{slangs}}" wx:for-item="slang">
<!-- blockkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk -->
<view class="body" 
style="background-image: url(https://media.giphy.com/media/kiBhux7Uhqv1witvPq/giphy.gif)">
  <view class="title">
    <text>“ {{slang.name}} ”</text>
  </view>
  <text id="pinyin">{{slang.pinyin}}</text>
<view class="trash"> </view>
<!-- <view class="body"> -->
  <view class="show-card">
    <view class="background radius light" >
      <view class="card-content">
        <view id="show-card-avatar" class="cu-avatar round lg" style="background-image:url({{slang.user.avatar_url}});"></view>
        <!-- edit & collect -->
        <view class="top-nav">
        <text data-id="{{slang.id}}" data-name="{{slang.name}}" id= "edit-slang" class="cuIcon-edit sm text-grey" bindtap="editSlang"></text>
        <text id="save-slang" data-id="{{slang.id}}" bindtap="saveSlang" class="cuIcon-{{favored?'favorfill':'favor'}} text-grey"></text>
        </view>
      <!-- /edit & collect -->
      <!-- </view> -->
      <view class="p"><text></text></view> 
        <swiper class="card-swiper square-dot" indicator-dots="true" circular="true" autoplay="true" interval="5000" duration="1000" bindchange="cardSwiper" indicator-color="#8799a3" indicator-active-color="#0081ff"> 
        <block wx:for="{{slang.definitions}}" wx:for-item="definition" wx:key="xxx">  
          <swiper-item>
            <view class="cu-card dynamic">
              <view class="cu-item shadow">
              <view class="cu-list menu-avatar">
<!------------------------------ edit definition ------------------------------>
<block wx:if="{{userId == definition.user.id}}">

  <text data-id="{{definition.id}}" data-content="{{definition.content}}" data-name="{{slang.name}}" data-slangid="{{slang.id}}" id="edit" class="cuIcon-edit lg text-grey" bindtap="editDefinition"></text>
<!------------------------------ /edit definition ------------------------------>
<!------------------------------ delete definition ------------------------------>
  <text data-id="{{definition.id}}" data-content="{{definition.content}}" data-name="{{slang.name}}" data-slangid="{{slang.id}}" id="edit" class="cuIcon-deletefill lg text-grey"></text>
</block>
<!------------------------------ /delete definition ------------------------------>
                <view class="text-content" id="definition-text">
                {{definition.content}}</view>
                <view class="content flex-sub">
                <view id="definition-contributor" class="text-grey text-sm"> Contributed by {{definition.user}} {{definition.created_at}}
<!-----------------------------------liked?-------------------------------------->
<block wx:if="{{liked}}">
  <text data-id="{{definition.id}}" id="like" class="cuIcon-likefill lg text-red" bindtap="giveItaLike" >{{definition.likes + 1}}</text>
</block>
<!-----------------------------------liked?-------------------------------------->
<block wx:if="{{!liked}}">
  <text data-id="{{definition.id}}" id="like" class="cuIcon-like lg text-grey" bindtap="giveItaLike" >{{definition.likes}}</text>
</block>
<!-----------------------------------liked?-------------------------------------->
                </view>
              </view>
          </view>
        </view>
      </view>
    </swiper-item> 
    </block>  
    
  </swiper>  
  
<!---------------------------------- Dialect tags ---------------------------------->
  <view id="tag-block">
    <block wx:for="{{slang.dialects}}" wx:key="dialect">
      <view class="cu-tag bg-purple light round" bindtap="goTotag" data-tag="{{item}}"><view class="cuIcon-tag"></view>{{item}}</view>
    </block>
<!------------------------------------- Tags --------------------------------------->
    <block wx:for="{{slang.tags}}" wx:key="tag">
      <view class="cu-tag bg-pink light round" bindtap="goTotag" data-tag="{{item}}"><text class="cuIcon-tag"></text>{{item}}</view>
    </block>
<!---------------------------------------------------------------------------------->
  <view class="padding" style="margin-top:40rpx">
    <view class="grid col-4 grid-square">
     <view class="bg-img" wx:for="{{sticker_url}}" wx:key style="background-image:url({{item}});"></view>
    </view>
    </view>
  </view>
<!---------------------------------- share button ----------------------------------->
      <button open-type="share" id="share" class="cu-btn lg bg-white"><text class="cuIcon-share">Share</text></button>
<!---------------------------------- share button ----------------------------------->
</view>
  </view>

</view>
</view>
    </block>
<!-- blockkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk -->

</view>